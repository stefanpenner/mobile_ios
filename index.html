<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width, height=device-height"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="My App Name">
    <meta name="apple-mobile-web-app-status-bar-style" content="white" />
    <link rel="stylesheet" type="text/css" href="style.css">

    <script src='http://code.jquery.com/jquery-1.7.2.min.js'></script>
    <script src='http://cloud.github.com/downloads/wycats/handlebars.js/handlebars-1.0.rc.1.js'></script>
    <script src='http://cloud.github.com/downloads/emberjs/ember.js/ember-1.0.0-pre.2.min.js'></script>
    <script src="app.js"></script>
  </head>
  <body class='not-selectable'>
    <script type="text/x-handlebars" data-template-name="left">
        <div id="left">
          <div id="left-header">
            <input type="search" id="left-search" placeholder="Search"/>
          </div>
          <div id="left-body" class="scrollable">
            <div class="left-entry">
              {{#with App.currentUser}}
                <img class="left-user-photo" {{bindAttr src="thumb_url"}}/>
                {{name}}
              {{/with}}
            </div>
            {{#each group in App.groups }}
              <div class="left-placeholder">{{group.name}}</div>
              {{#each entry in group.content}}
                <div class="left-entry">{{entry}}</div>
              {{/each}}
            {{/each}}
          </div>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="feed_entry">
      <div class="entry">
        <div class="entry-body">
          <div class="entry-from">
            <img class="entry-from-avatar" {{bindAttr src="user.thumb_url"}}/>
            <div class="entry-from-name">{{user.name}}</div>
            <div class="entry-from-time">4 Minutes Ago</div>
          </div>
          {{message}}
          {{#if picture}}
             <img {{bindAttr src="picture"}}/>
          {{/if}}
        </div>
        <div class="entry-footer">
          {{#each actions}}
            <a {{bindAttr href="link"}}>{{name}}</a>
          {{/each}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="center">
      <div id="center">
        <div id="header">
          <div id="top-nav" class="blue-gradient">
            <div class="inset-button blue-gradient place-left"></div>
            <div class="inset-button blue-gradient place-right"></div>
          </div>
          <div id="toolbar" class="hidden"></div>
        </div>
        <div id="content" class="scrollable">
          {{#with App.newsFeed}}
            {{#if isLoading}}
              <h1 style="text-align: center">loading news from facebook...</h1>
            {{else}}
              {{each App.newsFeed itemViewClass="App.FeedEntryView"}}
            {{/if}}
          {{/with}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="right">
      <div id="right"></div>
    </script>

    <script type="text/x-handlebars" data-template-name="application">
      {{view App.LeftView}}
      {{view App.CenterView}}
      {{view App.RightView}}
    </script>
  </body>
</html>
